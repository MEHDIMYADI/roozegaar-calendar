<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <!-- ======================= META TAGS & BASIC CONFIGURATION ======================= -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roozegaar Calendar</title>
    
    <!-- ======================= PWA CONFIGURATION ======================= -->
    <meta name="theme-color" content="#4a6fa5">
    <meta name="description" content="تقویم دو زبانه فارسی و میلادی با قابلیت مدیریت رویدادها - Bilingual Persian and Gregorian calendar with event management">
    <meta name="keywords" content="تقویم, فارسی, میلادی, رویداد, calendar, persian, gregorian, events">
    
    <!-- Apple PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="تقویم من">
    <link rel="apple-touch-icon" href="assets/images/icons/icon-192x192.png">
    
    <!-- Android PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- ======================= RESOURCE LINKS ======================= -->
    <!-- Fallback favicon using emoji -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📅</text></svg>">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />        
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
    <!-- ======================= HEADER & NAVIGATION ======================= -->
    <div id="header"></div>

    <!-- ======================= MAIN CONTENT ======================= -->
    <main class="container" role="main">
        <!-- ======================= CALENDAR SECTION ======================= -->
        <section aria-labelledby="currentMonthYear">
            <div class="calendar-container">
                <!-- Calendar Header with Navigation -->
                <div class="calendar-header">
                  <h2 id="currentMonthYear" aria-live="polite"></h2>                    
                  <div class="calendar-nav" role="toolbar" aria-label="کنترل‌های تقویم">
                    <button id="prevYear" title="سال قبل"><i class="fa-solid fa-angles-left"></i></button>
                    <button id="prevMonth" title="ماه قبل"><i class="fa-solid fa-chevron-left"></i></button>
                    <button id="todayBtn" title="برو به امروز"><i class="fa-solid fa-circle-dot"></i></button>
                    <button id="nextMonth" title="ماه بعد"><i class="fa-solid fa-chevron-right"></i></button>
                    <button id="nextYear" title="سال بعد"><i class="fa-solid fa-angles-right"></i></button>
                  </div>
                </div>
   
                <!-- Calendar Body -->
                <div class="calendar-body">
                    <!-- Weekdays Header -->
                    <div class="weekdays" id="weekdays" role="rowgroup">
                        <!-- Weekdays will be populated by JavaScript -->
                    </div>
                    
                    <!-- Days Grid -->
                    <div class="days-grid" id="daysGrid" role="grid" aria-labelledby="currentMonthYear">
                        <!-- Days will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </section>

        <!-- ======================= DUAL CALENDAR CARDS ======================= -->
        <section class="dual-calendar-cards" aria-label="نمایش تاریخ فعلی">
            <!-- Persian Calendar Card -->
            <div class="calendar-card" id="persianCard" role="complementary" aria-label="تاریخ شمسی">
                <div class="day-large" id="persianDay" aria-live="polite">15</div>
                <div class="month-name" id="persianMonth" aria-live="polite">مهر</div>
                <div class="full-date" id="persianFullDate" aria-live="polite">1404/07/15</div>
            </div>
            
            <!-- Gregorian Calendar Card -->
            <div class="calendar-card" id="gregorianCard" role="complementary" aria-label="تاریخ میلادی">
                <div class="day-large" id="gregorianDay" aria-live="polite">7</div>
                <div class="month-name" id="gregorianMonth" aria-live="polite">October</div>
                <div class="full-date" id="gregorianFullDate" aria-live="polite">2025/10/07</div>
            </div>
        </section>

        <!-- ======================= DAILY EVENTS SECTION ======================= -->
        <section aria-labelledby="dailyEventsHeading">
            <div class="wide-calendar-card" id="dailyEventsCard">
                <h3 id="dailyEventsHeading" class="sr-only">رویدادهای روز</h3>
                <div class="events-container" id="dailyEventsContainer" aria-live="polite">
                    <!-- Daily events will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- ======================= SETTINGS MODAL ======================= -->
        <div id="settingsModal" class="modal" role="dialog" aria-labelledby="settingsModalTitle" aria-hidden="true">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="settingsModalTitle"></h3>
                    <button class="close-modal" id="closeSettingsModal" aria-label="بستن تنظیمات">
                        <i class="fa-solid fa-close"></i>
                    </button>
                </div>
                
                <!-- Theme Selection -->
                <div class="form-group">
                    <label for="themeSelect" id="themeSelectLabel"></label>
                    <select id="themeSelect" aria-labelledby="themeSelectLabel">
                        <option value="light"></option>
                        <option value="dark"></option>
                    </select>
                </div>

                <!-- Language Selection -->
                <div class="form-group">
                    <label for="langSelect" id="langSelectLabel"></label>
                    <select id="langSelect" aria-labelledby="langSelectLabel">
                        <option value="fa"></option>
                        <option value="en"></option>
                    </select>
                </div>

                <!-- Calendar Type Selection -->
                <div class="form-group">
                    <label for="calendarTypeSelect" id="calendarTypeSelectLabel"></label>
                    <select id="calendarTypeSelect" aria-labelledby="calendarTypeSelectLabel">
                        <option value="persian"></option>
                        <option value="gregorian"></option>
                    </select>
                </div>
                
                <!-- Show Secondary Calendar -->
                <div class="form-group">
                    <label for="secondaryCalendarToggle" id="secondaryCalendarToggleLabel"></label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="secondaryCalendarToggle" checked>
                        <label for="secondaryCalendarToggle" class="toggle-slider"></label>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ======================= EVENT MODAL ======================= -->
        <div class="modal" id="eventModal" role="dialog" aria-labelledby="modalTitle" aria-hidden="true">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modalTitle"></h3>
                    <button class="close-modal" id="closeModal" aria-label="بستن پنجره رویداد">
                        &times;
                    </button>
                </div>
                
                <!-- Event Form -->
                <form class="event-form" id="eventForm" role="form" aria-labelledby="modalTitle">
                    <!-- Event Title -->
                    <div class="form-group">
                        <label id="eventTitleLabel" for="eventTitle"></label>
                        <input type="text" id="eventTitle" required aria-required="true">
                    </div>
                    
                    <!-- Event Date (Read-only) -->
                    <div class="form-group">
                        <label id="eventDateLabel" for="eventDate"></label>
                        <input type="text" id="eventDate" readonly aria-readonly="true">
                    </div>
                    
                    <!-- Event Description -->
                    <div class="form-group">
                        <label id="eventDescriptionLabel" for="eventDescription"></label>
                        <textarea id="eventDescription" rows="3" aria-describedby="eventDescriptionHelp"></textarea>
                    </div>
                    
                    <!-- Form Actions -->
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelEvent"></button>
                        <button type="submit" class="btn btn-primary" id="submitEvent"></button>
                    </div>
                </form>
                
                <!-- Existing Events List -->
                <div class="events-list" id="eventsList" aria-live="polite">
                    <!-- Events will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </main>

    <!-- ======================= PWA INSTALL PROMPT ======================= -->
    <div class="pwa-install-prompt" id="pwaInstallPrompt" role="dialog" aria-labelledby="pwaPromptTitle" aria-hidden="true">
        <div class="pwa-prompt-content">
            <div class="pwa-prompt-text">
                <span id="pwaPromptTitle"></span>
                <span id="pwaPromptSubtitle"></span>
            </div>
            <div class="pwa-prompt-actions">
                <button class="pwa-btn pwa-btn-secondary" id="pwaDismissBtn" aria-label="نصب را بعداً انجام بده">     
                </button>
                <button class="pwa-btn pwa-btn-primary" id="pwaInstallBtn" aria-label="نصب برنامه تقویم">
                </button>
            </div>
        </div>
    </div>

    <!-- ======================= FOOTER CONTENT ======================= -->
    <div id="footer"></div>
    
    <!-- ======================= SCRIPTS ======================= -->
    <script src="assets/js/jalaali.js"></script>
    <script src="assets/js/main.js"></script>
    
    <!-- Hidden accessibility elements -->
    <div id="sr-only" class="sr-only" aria-live="polite" aria-atomic="true"></div>
</body>
</html>